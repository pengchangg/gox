name: Gitea Actions Demo
run-name: ${{ gitea.actor }} is testing out Gitea Actions ğŸš€
on: [push]

cache:
  enabled: true
  dir: ""
  # ä½¿ç”¨æ­¥éª¤ 1. è·å–çš„ LAN IP
  host: "10.206.0.1"
  # ä½¿ç”¨æ­¥éª¤ 2. è·å–çš„ç«¯å£å·
  port: 8088

jobs:
  Explore-Gitea-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: |
          echo "ğŸ’¡ The ${{ gitea.repository }} repository has been cloned to the runner."
          echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
          ls ${{ gitea.workspace }}
          # ä¸‹è½½
          wget https://golang.google.cn/dl/go1.21.4.linux-amd64.tar.gz
          # è§£å‹
          rm -rf /usr/local/go && tar -C /usr/local -xzf go1.21.4.linux-amd64.tar.gz
          # é…ç½® .bashrc
          export GO111MODULE=on
          export GOPROXY=https://goproxy.cn
          export GOPATH="/root/go"
          export GOBIN="$GOPATH/bin"
          export PATH=$PATH:$GOBIN:/usr/local/go/bin
          # éªŒè¯
          go env
          go version
          make all